<!-- <div class="analytics-container">
  <div class="analytics-header">
    <h1>Analytics & Insights</h1>
    <p class="subtitle">Track your productivity and identify areas for improvement</p>
  </div>

  <div class="stats-overview">
    <div class="stat-card">
      <div class="stat-icon">‚ö°</div>
      <div class="stat-content">
        <div class="stat-value">{{ productivityScore }}</div>
        <div class="stat-label">Productivity Score</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">‚úÖ</div>
      <div class="stat-content">
        <div class="stat-value">{{ completedTasks }}/{{ totalTasks }}</div>
        <div class="stat-label">Tasks Completed</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üìä</div>
      <div class="stat-content">
        <div class="stat-value">{{ getCompletionRate() }}%</div>
        <div class="stat-label">Completion Rate</div>
      </div>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-wrapper">
        <p class="chart-placeholder">Productivity Trends Chart</p>
        <p class="chart-note">Chart.js integration coming soon</p>
      </div>
    </div>

    <div class="chart-card">
      <div class="chart-wrapper">
        <p class="chart-placeholder">Task Distribution Chart</p>
        <p class="chart-note">Chart.js integration coming soon</p>
      </div>
    </div>
  </div>

  <div class="chart-card full-width">
    <div class="chart-wrapper">
      <p class="chart-placeholder">Project Completion Chart</p>
      <p class="chart-note">Chart.js integration coming soon</p>
    </div>
  </div>

  @if (bottlenecks.length > 0) {
    <div class="bottlenecks-section">
      <h2>‚ö†Ô∏è Productivity Bottlenecks</h2>
      <div class="bottlenecks-list">
        @for (bottleneck of bottlenecks; track bottleneck) {
          <div class="bottleneck-item">
            <span class="bottleneck-icon">‚ö†Ô∏è</span>
            <span class="bottleneck-text">{{ bottleneck }}</span>
          </div>
        }
      </div>
    </div>
  }

  @if (bottlenecks.length === 0) {
    <div class="insights-section">
      <div class="insight-card positive">
        <div class="insight-icon">üéâ</div>
        <div class="insight-content">
          <h3>Great Job!</h3>
          <p>No major bottlenecks detected. Keep up the excellent work!</p>
        </div>
      </div>
    </div>
  }
</div> -->
<!------------------------------------------------------>
<!-- <h2>Tasks completed per day (by tag)</h2>

<div class="tag-selector">
<mat-chip-set>
  <mat-chip-option
      *ngFor="let tag of availableTags"
      [selected]="selectedTags.includes(tag)"
      (selectionChange)="toggleTag(tag)">
    {{ tag }}
  </mat-chip-option>
</mat-chip-set>
</div>
<div style="height: 300px">
  <canvas baseChart   #lineChart id="lineChart"
    [data]="lineChartData"
    [type]="'line'">
  </canvas>
</div>
<h2>Completion rate per tag (%)</h2>

<div style="height: 300px">
  <canvas baseChart   #barChart id="barChart"
    [labels]="completionTags"
    [data]="completionChartData"
    chartType="bar">
  </canvas>
</div> -->
<!------------------------------------------------------>
<h2>Tasks completed per day (by tag)</h2>

<div class="tag-selector">
  <mat-chip-set>
    <mat-chip-option
        *ngFor="let tag of availableTags"
        [selected]="selectedTags.includes(tag)"
        (selectionChange)="toggleTag(tag)">
      {{ tag }}
    </mat-chip-option>
  </mat-chip-set>
</div>

<div style="height: 300px; position: relative;">
  <!-- Loading state -->
  <div *ngIf="!lineChartReady" style="display: flex; align-items: center; justify-content: center; height: 100%;">
    <mat-spinner diameter="40"></mat-spinner>
  </div>
  
  <!-- Chart renders as soon as data arrives -->
  <canvas *ngIf="lineChartReady" 
    baseChart 
    #lineChart
    id="lineChart"
    [data]="lineChartData"
    [type]="'line'"
    [options]="{responsive: true, maintainAspectRatio: false}">
  </canvas>
</div>

<h2>Completion rate per tag (%)</h2>

<div style="height: 300px; position: relative;">
  <!-- Loading state -->
  <div *ngIf="!completionChartReady" style="display: flex; align-items: center; justify-content: center; height: 100%;">
    <mat-spinner diameter="40"></mat-spinner>
  </div>
  
  <!-- Chart renders as soon as data arrives -->
  <canvas *ngIf="completionChartReady"
    baseChart 
    #barChart
    id="barChart"
    [data]="completionChartData"
    [type]="'bar'"
    [options]="{responsive: true, maintainAspectRatio: false}">
  </canvas>
</div>
